
<div class="container">
  <% @hirings.each do |hiring| %>
    <div class="row">
      <h1><%= hiring.internship.name %></h1>
    </div>
    <div class="row">
      <% if hiring.accepted? %>
        <% hiring.accepted_student_hirings.each do |request| %>
          <div class="col-xs-6">
            <%= request.student.full_name %>
          </div>
          <div class="col-xs-6">
            Accepter
            <%= social_share_button_tag(hiring.company.company, url: company_hirings_url) %>
          </div>
        <% end %>
      <% elsif hiring.required? %>
        <% hiring.required_student_hirings.each do |request| %>
          <div class="col-xs-6">
            <%= request.student.full_name %>
          </div>
          <div class="col-xs-6">
            <%= link_to "accepter", company_student_hiring_path(hiring, state: 2), method: :put %>
            <%= link_to "refuser", company_student_hiring_path(hiring, state: 3), method: :put %>
          </div>
        <% end %>
      <% else %>
        Stage non demandé :,(
      <% end %>
    </div>
  <% end %>
  <div class="row">
    <div class="col-md-4 col-sm-12 col-md-offset-4">
      <%= simple_form_for :hiring, url: company_hirings_path, method: :post do |f| %>
      <%= f.input :internship_id, collection: Internship.all, label: "Stage" %>
      <%= f.input :job_id, collection: Job.all, label: "Métier" %>
      <%= f.input :number, as: :integer, label: "Nombre de stagiaires" %>
      <%= f.button :submit, "Créer une offre de stage", class: "btn btn-primary form-input" %>
      <% end %>
    </div>
  </div>
</div>
